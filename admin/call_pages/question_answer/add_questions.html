
<div class="container my-4">
    <div class="row">
        <div class="col-md-10 cont">
            <h4 style="border-bottom: 1px solid #47e027; padding: 2px 0;">Test taýarla - Üýtget</h4>
        </div>

        <div class="col-md-2" style="text-align: right;">
            <button type="submit" class="btn btn-outline-danger order_questions">soraglary tertiple</button>
        </div>

    </div>

    <form id="question-form">

        <div class="row" style="margin-left:0px; margin-right:0px;  background-color: #dbeaea;">
            <div class="col-md-8" style=" padding-bottom: 10px; margin-top: 10px;">
                <div class="d-flex align-items-center;">
                    <input type="text" id="bolum_input" class="form-control " placeholder="çärýek goş"
                        style="border:1px solid #5e5eff;">
                    <button id="add_caryek" class="btn btn-success  custom-btn">Çärýek +</button>
                    <button id="delete_caryek" class="btn btn-danger custom-btn">Çärýek poz</button>
                </div>
            </div>
        </div>

        <div class="col-mb-3">
            <label for="exampleFormControlSelect1"></label>
            <select class="form-control" id="bolum_caryek" name="bolum_caryek" style="margin-bottom:12px;font-size:14px"
                required>
                <!-- <option selected disabled value="">Çarýek sayla</option> -->
            </select>
        </div>

        <div class="mb-3 d-flex gap-">  
            <label class="form-label" style="padding-right: 5px;"> Sorag  </label>
               
            <input style="width:70%" type="text" class="form-control subscript-input" id="question_text" name="question_text" required>
          <label class="fomr-label" style="padding:0 10px;">  Surat </label>
            <input style="width: 30%;" type="file" class="form-control subscript-input" id="question_img" name="question_img" required>
        </div>
        <div id="options-container">
            <div class="option-group">
                <label for="option_1" class="form-label">Jogap 1</label>

                <input style="width:70%" type="text" class="form-control subscript-input sayla01" id="question_text1" name="answers[]" >
                <input style="width: 30%;" type="file" class="form-control" id="option_1" name="options[]" >
                <button type="button" class="btn btn-danger remove-option">Poz</button>
            </div>
            <div class="option-group">
                <label for="option_2" class="form-label">Jogap 2</label>
                <input style="width:70%" type="text" class="form-control subscript-input sayla01" id="question_text2" name="answers[]" >
                <input style="width: 30%;" type="file" class="form-control" id="option_2" name="options[]" >
                <button type="button" class="btn btn-danger remove-option">Poz</button>
            </div>
        </div>

        <button type="button" class="btn btn-success mb-3 jogapyaz" id="add-option">Jogap goş +</button>

        <div class="mb-3">
            <label for="correct_answer" class="form-label">Dogry jogaby (1-25 arasynda) saýlaň</label>
            <input type="number" class="form-control" id="correct_answer" name="correct_answer" min="1" max="5"
                required>
        </div>

        <button type="submit" class="btn btn-primary">Sorag goş</button>
    </form>

    <div id="response-message" style="margin-top: 20px;"></div>

    <!---------------------- UPDATE QUESTIONS--------------------------------------->
<script>
    $.ajax({
        url: '../includes/caryek_handler.php',
        type: 'POST',
        data: { action: 'fetch' },
        success: function (data) {
            $('#caryek_select').html('<option selected disabled value="">Caryek sayla</option>' + data);
        }
    });
</script>



    <div id="" style="margin-top: 20px;">       

        <div class="row" id="update_quest_answer">

            <div class="col-md-12" id="update_questions">

                <form id="updateForm" enctype="multipart/form-data">
                    
                    <input type="hidden" id="caryek_id" name="caryek_id"> 
                    <label for="caryek_select">Çärýek saýla:</label>
                    <select id="caryek_select" class="form-control">
                        <option selected disabled value="">Caryek sayla</option>
                       
                    </select><br><br>

                    <input type="hidden" id="question_id" name="id"> 
                    <label for="question_select">Sorag saýla:</label>
                    <select id="question_select" class="form-control">
                        <option value="">Soragy gör</option>
                        <!-- Sorular buraya AJAX ile yüklenecek -->
                    </select><br><br>

                    <label for="single_image">Sorag suraty:</label>
                    <div id="single_image_container"></div> <!-- Tekli resim burada gösterilecek -->

                    <label for="question_text">Sorag:</label>
                    

                    <input type="text" id="question_text_data" data-hidden_input="question_text" class="form-control sayla01 answer_text" name="question_text_data"><br><br>
                    <input type="hidden" id="question_text" class="sayla02">

                    <label for="options">Resimler:</label>

                <div id="image_container"></div> <!-- Resimler burada gösterilecek -->
                <input type="file" id="imageUploader" style="display: none;" accept="image/*" multiple><br><br>


                    <label for="options">Jogaplar:</label>
                    <div id="options_container"></div>
                    <label for="correct_answer">Correct Answer (Option Number):</label>
                    <input type="number" class="form-control sayla01 answer_text" data-hidden_input="correct_answer" id="correct_answer_data" name="correct_answer_data"  min="1"><br><br>
                    <input type="hidden" id="correct_answer" class="sayla02">
                    
                </form>

            </div>
        </div>
    </div>

</div>

</div>

<script>
    window.addEventListener('load', function () {
        localStorage.clear();
        sessionStorage.clear();
    });


</script>
<script src="call_pages/js_files/submit_insert_quest_img.js"></script>
<script src="call_pages/js_files/add_remove_button.js"></script>
<script src="call_pages/js_files/update.js"></script>

<script src="call_pages/js_files/add_remove_caryek.js"></script>